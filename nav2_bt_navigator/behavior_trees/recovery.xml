<!--
  // TODO(orduno): Is 'Sequence' the appropriate node to use for 'root'?
  //               since 'navigate_root' is a long running action and will return 'running'
  //               Is it possible 'check_preconditions_root' doesn't get called on
  //               subsequent ticks?

  // TODO(orduno): A recovery node (e.g. Unstuck) return SUCCESS if it was able to execute all
  //               actions. That doesn't mean we fixed the failure, we need to check the
  //               condition again.
-->

<root main_tree_to_execute="MainTree">
  <BehaviorTree ID="MainTree">
    <Sequence name="root">
      <Sequence name="check_preconditions">
        <FallbackStar name="check_motion">
          <Inverter name="is_not_stuck">
            <IsStuck/>
          </Inverter>
          <SequenceStar name="stuck_recovery">
            <Stop/>
            <BackUp/>
            <Spin/>
          </SequenceStar>
        </FallbackStar>
      </Sequence>
      <SequenceStar name="navigate">
        <ComputePathToPose endpoints="${endpoints}" path="${path}"/>
        <FollowPath path="${path}"/>
      </SequenceStar>
    </Sequence>
  </BehaviorTree>
</root>
